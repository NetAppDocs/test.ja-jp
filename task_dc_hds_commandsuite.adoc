---
sidebar: sidebar 
permalink: task_dc_hds_commandsuite.html 
keywords: data collector, Hitachi Vantara Command Suite, Hitachi 
summary: HDS Command Suite Device Manager データコレクタの設定 
---
= Hitachi Vantara Command Suite データコレクタ


[role="lead"]
Hitachi Vantara コマンドスイートのデータコレクタは、 HiCommand Device Manager サーバをサポートします。Cloud Insights は、標準の HiCommand API を使用して HiCommand Device Manager サーバと通信します。



== 用語集

Cloud Insights は、 Hitachi Vantara Command Suite データコレクタから次のインベントリ情報を取得します。Cloud Insights では、取得したアセットのタイプごとに、そのアセットに使用される最も一般的な用語が表示されます。このデータコレクタを表示またはトラブルシューティングするときは、次の用語に注意してください。

[cols="2*"]
|===
| ベンダー / モデルの用語 | Cloud Insights の用語 


| PDEV | ディスク 


| ジャーナルプール | ディスクグループ 


| ストレージアレイ | ストレージ 


| Port Controller の略 | ストレージノード 


| アレイグループ 'HDS プール | ストレージプール 


| 論理ユニット、 LDEV | ボリューム 
|===
注：これらは一般的な用語の対応のみを示したものであり、このデータコレクタのすべてのケースを表しているわけではありません。



=== ストレージ

HDS ストレージアセットランディングページにあるオブジェクトや参考資料に関連する用語を次に示します。これらの用語の多くは、他のデータコレクタにも適用されます。

* 名前– HDS HiCommand Device Manager の「 name 」属性から GetStorageArray XML API 呼び出しを介して直接取得されます
* Model ： HDS HiCommand Device Manager の ［ arrayType ］ 属性から GetStorageArray XML API 呼び出しを使用して直接取得します
* ベンダー– HDS （ Hitachi ）
* Family - GetStorageArray XML API 呼び出しを使用して、 HDS HiCommand Device Manager の「 arrayFamily 」属性から直接取得します
* IP –アレイの管理 IP アドレスであり、アレイ上のすべての IP アドレスの完全なリストではありません
* 物理容量–ディスクの役割に関係なく、このシステム内のすべてのディスクの合計容量を表す base2 値。




=== ストレージプール

HDS ストレージプールのアセットランディングページにあるオブジェクトや参照に関連する用語を次に示します。これらの用語の多くは、他のデータコレクタにも適用されます。

* タイプ：値は次のいずれかになります。
+
** 予約済み：このプールがデータボリューム以外の目的専用の場合（ジャーナリング、スナップショット）
** シンプロビジョニング– HDP プールの場合
** RAID グループ–次のような理由が考えられません。
+
Cloud Insights は、あらゆるコストで容量の二重カウントを回避するために強いスタンスを取っています。HDS では、通常、ディスクから RAID グループを作成し、それらの RAID グループにプールボリュームを作成し、それらのプールボリュームからプール（多くの場合 HDP を作成しますが、特別な目的にすることもあります）を構築する必要があります。Cloud Insights が、基盤となる RAID グループとプールの両方をそのまま報告した場合、それぞれの物理容量の合計がディスクの合計を大幅に超えてしまいます。

+
Cloud Insights の HDS Command Suite データコレクタは、 RAID グループのサイズをプールボリュームの容量で任意に縮小します。これにより、 Cloud Insights が RAID グループをまったく報告しない場合があります。さらに、作成された RAID グループには、 Cloud Insights Web UI には表示されないようにフラグが設定されますが、 Cloud Insights Data Warehouse （ DWH ）にフローします。これらの決定の目的は、ほとんどのユーザーが気にしないことを UI の混乱から回避することです。 HDS アレイに 50 MB の空きがある RAID グループがある場合は、その空きスペースを有効な結果に使用できない可能性があります。



* HDS プールは 1 つの特定のノードに関連付けられないため、ノードなし
* Redundancy - プールの RAID レベル。複数の RAID タイプで構成される HDP プールには、複数の値が含まれる可能性があります
* Capacity % - プールでデータ使用に使用されている割合。プールの使用済み GB と合計論理 GB サイズです
* オーバーコミット容量 - 「このプールの論理容量は、プールの論理容量をこの割合で超えている論理ボリュームの合計により、この割合でオーバーサブスクライブされる」ことを示す派生値
* snapshot - このプールでの Snapshot の使用用にリザーブされている容量が表示されます




=== ストレージノード

HDS ストレージノードのアセットランディングページにあるオブジェクトや参照に関連する用語を次に示します。これらの用語の多くは、他のデータコレクタにも適用されます。

* 名前–モノリシックアレイのフロントエンドディレクタ（ FED ）またはチャネルアダプタの名前、またはモジュラーアレイのコントローラの名前。1 つの HDS アレイに 2 つ以上のストレージノードがある
* volumes –このストレージノードが所有するポートにマッピングされているボリュームが Volume テーブルに表示されます




== インベントリの要件

インベントリデータを収集するには、次の情報が必要です。

* HiCommand Device Manager サーバの IP アドレス
* HiCommand Device Manager ソフトウェアおよびピアの権限に対する読み取り専用のユーザ名とパスワード
* ポート要件： 2001 （ http ）または 2443 （ https ）
* ユーザ名とパスワードを使用して HiCommand Device Manager ソフトウェアにログインします
* HiCommand Device Manager へのアクセスを確認します http://<HiCommand_Device_Manager_IP>:2001/service/StorageManager[]




== パフォーマンス要件

パフォーマンスデータを収集するには、次の要件を満たしている必要があります。

* HDS USP 、 USP V 、および VSP のパフォーマンス
+
** Performance Monitor のライセンスが必要です。
** 監視スイッチが有効になっている必要があります。
** エクスポートツール（ Export.exe ）を Cloud Insights AU にコピーする必要があります。
** エクスポートツールのバージョンとターゲットアレイのマイクロコードのバージョンが一致している必要があります。


* AMS のパフォーマンス：
+
** Cloud Insights でパフォーマンスデータの取得に使用する場合は、 AMS アレイ上に専用のサービスアカウントを作成することを強く推奨します。Storage Navigator では、ユーザーアカウントでアレイへの同時ログインが 1 つだけ許可されています。Cloud Insights で管理スクリプトまたは HiCommand と同じユーザアカウントを使用すると、 1 つのユーザアカウントの同時ログイン制限により、 Cloud Insights 、管理スクリプト、または HiCommand がアレイと通信できなくなることがあります
** Performance Monitor のライセンスが必要です。
** Storage Navigator Modular 2 （ SNM2 ） CLI ユーティリティが Cloud Insights AU にインストールされている必要があります。






== 設定

[cols="2*"]
|===
| フィールド | 説明 


| HiCommand サーバ | HiCommand Device Manager サーバの IP アドレスまたは完全修飾ドメイン名 


| ユーザ名 | HiCommand Device Manager サーバのユーザ名 


| パスワード | HiCommand Device Manager サーバのパスワード 


| デバイス - VSP G1000 （ R800 ）、 VSP （ R700 ）、 HUS VM （ HM700 ）、および USP ストレージ | VSP G1000 （ R800 ）、 VSP （ R700 ）、 HUS VM （ HM700 ）、および USP ストレージのデバイスリスト。各ストレージには ' ストレージの *Array's IP: IP アドレスが必要ですユーザー名 : ストレージのユーザー名 *Password: エクスポートユーティリティ JAR ファイルを含むストレージ * フォルダのパスワード 


| SNM2Devices - WMS/SMS/AMS ストレージ | WMS / SMS / AMS ストレージのデバイスリスト。各ストレージには、ストレージの * アレイの IP ： IP アドレス * Storage Navigator CLI Path ： SNM2 CLI Path * Account Authentication Valid ：有効なアカウント認証を選択する場合に選択します。 * User Name ：ストレージのユーザー名 * Password ：パスワード 


| 「 Tuning Manager 」を「 Performance 」に選択します | 他のパフォーマンスオプションよりも優先されます 


| Tuning Manager Host （ホストのチューニング） | Tuning Manager の IP アドレスまたは完全修飾ドメイン名 


| Tuning Manager ポートを上書きします | 空白の場合は、 Choose Tuning Manager for Performance フィールドのデフォルトポートを使用します。それ以外の場合は、使用するポートを入力します 


| Tuning Manager のユーザ名 | Tuning Manager のユーザ名 


| Tuning Manager パスワード | Tuning Manager のパスワード 
|===
注： HDS USP 、 USP V 、および VSP では、どのディスクも複数のアレイグループに属することができます。



== 高度な設定

|===


| フィールド | 説明 


| 接続タイプ | HTTPS または HTTP では、デフォルトのポートも表示されます 


| HiCommand Server ポート | HiCommand Device Manager に使用するポート 


| インベントリポーリング間隔（分） | インベントリのポーリング間隔。デフォルトは 40. です。 


| 「除外」または「含める」を選択してリストを指定します | 下のリストに表示されたアレイをデータの収集時に対象に含めるか除外するかを指定します。 


| デバイスリストをフィルタリングします | 対象に含めるか除外するデバイスのシリアル番号をカンマで区切ったリスト 


| パフォーマンスポーリング間隔（秒） | パフォーマンスのポーリング間隔デフォルトは 300. です。 


| エクスポートのタイムアウト（秒） | エクスポートユーティリティがタイムアウトしました。デフォルトは 300. です。 
|===


== トラブルシューティング

このデータコレクタで問題が発生した場合の対処方法を次に示します。



==== 在庫

[cols="2*"]
|===
| 問題 | 次の操作を実行します 


| エラー：ユーザに十分な権限がありません | 別のユーザアカウントを使用して、権限を追加するか、データコレクタで設定されているユーザアカウントの権限を増やします 


| エラー：ストレージリストが空です。デバイスが設定されていないか、ユーザに十分な権限がありません | * デバイスが設定されているかどうかを確認するには、 DeviceManager を使用します。* より多くの権限を持つ別のユーザーアカウントを使用するか、ユーザーアカウントの権限を高めます 


| エラー： HDS ストレージアレイが数日間更新されませんでした | HDS HiCommand でこのアレイが更新されない理由を確認します。 
|===


==== パフォーマンス

[cols="2*"]
|===
| 問題 | 次の操作を実行します 


| エラー： * エクスポートユーティリティの実行エラー * 外部コマンドの実行中にエラーが発生しました | * エクスポートユーティリティが Cloud Insights Acquisition Unit にインストールされていることを確認します。 * データコレクタ設定でエクスポートユーティリティの場所が正しいことを確認します。 * データコレクタの設定で USP/R600 アレイの IP が正しいことを確認します。 * ユーザー名を確認します データコレクタの設定でパスワードが正しい * エクスポートユーティリティのバージョンが Cloud Insights Acquisition Unit からストレージアレイのマイクロコードバージョン * と互換性があることを確認してください。 CMD プロンプトを開き、次の手順を実行します。 - 設定済みのインストールディレクトリにディレクトリを変更します - バッチファイル runWin.bat を実行して、設定済みのストレージアレイとの接続を試みます 


| エラー：ターゲット IP のエクスポートツールのログインに失敗しました | * ユーザー名 / パスワードが正しいことを確認します * この HDS データコレクタ用に主にユーザー ID を作成します。 * このアレイを取得するように他のデータコレクタが設定されていないことを確認してください 


| エラー：「 Unable to get time range for monitoring 」というメッセージが表示されます。 | * アレイでパフォーマンス監視が有効になっていることを確認します。* Cloud Insights の外部でエクスポートツールを起動して、問題が Cloud Insights の外部にあることを確認してください。 


| エラー： * 設定エラー：ストレージアレイがエクスポートユーティリティでサポートされていません * 設定エラー：ストレージアレイが Storage Navigator Modular CLI でサポートされていません | * サポートされているストレージアレイのみを構成します。* サポートされていないストレージ・アレイを除外するには ' フィルタ・デバイス・リストを使用します 


| エラー： * 外部コマンドの実行エラー * 設定エラー：ストレージアレイがインベントリによって報告されない * 設定エラー：エクスポートフォルダに jar ファイルが含まれていません | * エクスポートユーティリティの場所を確認します。* 問題のストレージ・アレイが HiCommand Server に構成されているかどうかを確認する * パフォーマンス・ポーリング間隔を 60 秒の倍数に設定します 


| エラー : * エラーストレージナビゲータ CLI* オーPerform コマンドの実行エラー * 外部コマンドの実行中にエラーが発生しました | * Cloud Insights Acquisition Unit に Storage Navigator Modular CLI がインストールされていることを確認します。 * データコレクタ設定で Storage Navigator Modular CLI の場所が正しいことを確認します。 * データコレクタ設定で WMS / SMS / SMS アレイの IP が正しいことを確認します。 * Confirm Storage Navigator Modular CLI のバージョンが、 Cloud Insights Acquisition Unit のデータコレクタ * に設定されているストレージアレイのマイクロコードバージョンと互換性があることを確認してから、 CMD プロンプトを開き、次の手順を実行します。 - 設定したインストールディレクトリにディレクトリを変更します。次のコマンド「 auunitref.exe 」を実行して、設定したストレージアレイと接続してみます。 


| エラー：設定エラー：ストレージアレイがインベントリから報告されません | HiCommand サーバで該当するストレージアレイが設定されているかどうかを確認します 


| エラー： * ストレージナビゲーター Modular 2 CLI にアレイが登録されていません * アレイが Storage Navigator Modular 2 CLI に登録されていません * 設定エラー：ストレージアレイが StorageNavigator Modular CLI に登録されていません | * コマンドプロンプトを開き、ディレクトリを構成されたパスに変更します。 * コマンド「 set=STORAM_HOME= 」を実行します。 * コマンド「 auunitref 」を実行します。 * 出力にアレイの詳細が含まれていない場合は、コマンド出力にアレイの詳細が含まれていることを確認し、ストレージナビゲータの CLI にアレイを登録します。 - コマンドプロンプトを開き、ディレクトリを設定されたパスに変更します。コマンド「 set=STORAM_HOME= 」を実行します。 - コマンド「 auunitaddauto-IP$ ｛ ip ｝ 」を実行します。$ ｛ IP ｝ を実際の IP に置き換えてください 
|===
追加情報はから入手できます link:concept_requesting_support.html["サポート"] ページまたはを参照してください link:https://docs.netapp.com/us-en/cloudinsights/CloudInsightsDataCollectorSupportMatrix.pdf["Data Collector サポートマトリックス"]。
