---
sidebar: sidebar 
permalink: insights_shared_resources_under_stress.html 
keywords: insight, greedy, degraded, impacted, impacting, impactful, impact, resources, consuming, workload 
summary: この分析情報から、リソースが環境内の他のリソースにどのような影響を及ぼすかを確認できます。 
---
= 知見：ストレスのある共有リソース


[role="lead"]
影響の大きいワークロードは、共有リソース内の他のワークロードのパフォーマンスを低下させる可能性があります。これにより、共有リソースに負荷がかかります。Cloud Insights には、環境内のリソースの飽和と影響の調査に役立つツールが用意されています。


NOTE: Stress_Insight の共有リソースは _Preview_feature と見なされるため、変更される場合があります。



=== 用語集

ワークロードやリソースへの影響について話すときは、次の定義が役立ちます。

* 要求する * または * インパクトのある * リソースは、別のリソースに悪影響を与えるものです。たとえば、 IOPS が非常に高いボリュームでは、原因によって他のボリュームのレイテンシが増大する可能性があります（例 _Impacted_or_Degraded_resources ）を参照してください。要求の厳しいリソースや影響を受けるリソースは、ストレージプールやボリュームなど、同じ共有リソースを使用する「ピア」です。要求の厳しいリソースは、 _greedy_resources と呼ばれることもあります。

要求の厳しいワークロードとは、共有ストレージプール内の他のリソースに影響を与えていると現在特定されているワークロードのことです。これらのワークロードは IOPS を高め（など）、影響を受けるワークロードの IOPS を削減します。要求の厳しいワークロードは _ 高消費のワークロード _ と呼ばれることもあります。

「 Impacted Workload 」は、共有ストレージプール内の負荷の高いワークロードによる影響を受けます。このようなワークロードでは、要件の厳しいワークロードが原因で IOPS やレイテンシが低下しています。

* 共有リソースの飽和 * は、 _BASELINE_ に影響する IOPS の比率です。

* ベースライン * は、検出された飽和状態に直前の 1 時間における各ワークロードのレポートされる最大データポイントです。

競合 * または飽和 * は、 IOPS が共有ストレージプール内の他のリソースまたはワークロードに影響していると判断された場合に発生します。



=== 要件の厳しいワークロード

共有リソースで要求の厳しいワークロードや影響を受けるワークロードを確認するには、 Cloud Insights メニューの * Dashboards > Shared Resources の Stress* をクリックします。

image:Shared_resources_Under_Stress_menu.png["ワークロードのリスト"]

Cloud Insights は、飽和が検出されたワークロードのリストを表示します。Cloud Insights では、少なくとも 1_easteResource _ * と * 少なくとも 1_impacted resource_が 検出されたワークロードのみが表示されます。

ワークロードをクリックすると、そのワークロードの詳細ページが表示されます。上部チャートには、競合や飽和が発生している共有リソース（ストレージプールなど）のアクティビティが表示されます。

image:Shared_resources_Under_Stress_SharedResource.png["競合を示す共有リソース"]

以下の 2 つのグラフは、要件の厳しいワークロードの影響を受けやすいワークロードを示しています。

image:Insights_Demanding_Workload_Chart.png["要求の厳しいワークロードチャート"]
image:Insights_Impacted_Workload_Chart.png["影響を受けるワークロードグラフ"]

各表の下には、競合に影響を及ぼすワークロードやリソースが表示されます。リソース（ VM など）をクリックすると、そのリソースの詳細ページが開きます。ワークロードをクリックすると、関連するポッドを示すクエリページが開きます。リンクが空のクエリを開く場合は、影響を受けるポッドがアクティブな競合の一部でなくなっている可能性があります。クエリの時間範囲を変更して、ポッドリストを表示する時間範囲を大きくすることも、よりフォーカスした時間範囲にすることもできます。



=== 飽和状態を解決するにはどうすればよいですか？

環境内の飽和の可能性を減らすか、または排除するために、いくつかの手順を実行できます。これらは、ページの「 * + 推奨を表示」リンクを展開することで表示されます。いくつか試してみてください。

* 高 IOPS の利用者を移動
+
「 Greedy 」ワークロードを、飽和状態になっていないストレージプールに移動します。ワークロードを移動する前に、これらのプールの階層と容量を評価して、不要なコストや追加の競合を回避することをお勧めします。

* Quality of Service （ QoS ；サービス品質）ポリシーを実装する
+
使用可能な十分な空きリソースを確保するためにワークロードごとに QoS ポリシーを実装すると、ストレージプールの飽和を軽減できます。これは長期的な解決策です。

* リソースを追加する
+
共有リソース（ストレージプールなど）が IOPS 飽和ポイントに達した場合、プールにディスクを追加するか、より高速なディスクを追加することで、飽和状態を緩和するための十分な空きリソースが確保されます。



最後に、 [* Insight Link* のコピー ] をクリックして、ページの URL をクリップボードにコピーすると、同僚と簡単に共有できます。
