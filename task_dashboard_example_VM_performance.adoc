---
sidebar: sidebar 
permalink: task_dashboard_example_VM_performance.html 
summary: 仮想マシンのパフォーマンスを強調表示するダッシュボードの例。 
keywords: dashboard, widget, custom, example, virtual machine, vm, performance 
---
= ダッシュボードの例：仮想マシンのパフォーマンス
:allow-uri-read: 


[role="lead"]
現在、 IT 運用が直面している課題は多数あります。管理者は少ないリソースでより多くの成果を達成するよう求められており、動的なデータセンターを完全に可視化することは必須条件です。この例では、環境内の仮想マシン（ VM ）のパフォーマンスに関する運用状況を確認できるウィジェットを含むダッシュボードを作成する方法を紹介します。この例で示す手順に従って、ウィジェットを作成して固有のニーズに対応することで、フロントエンド仮想マシンとバックエンドストレージのパフォーマンスの比較を可視化したり、 VM のレイテンシと I/O 要求の比較を表示したりできます。

.このタスクについて
ここでは、以下を含む仮想マシンのパフォーマンス用ダッシュボードを作成します。

* VM 名とパフォーマンスデータをリストするテーブル
* VM のレイテンシをストレージのレイテンシと比較するグラフ
* VM の読み取り IOPS 、書き込み IOPS 、合計 IOPS を示すグラフ
* VM の最大スループットを示すグラフ


ここで紹介するのは基本的な例です。ダッシュボードをカスタマイズして、運用上のベストプラクティスに合わせて、選択したパフォーマンスデータを強調表示および比較することができます。

.手順
. 管理者権限を持つユーザとして Insight にログインします。
. [ * ダッシュボード * ] メニューから、 [ * [+ 新しいダッシュボード ] * ] を選択します。
+
[ 新しいダッシュボード * ] ページが開きます。

. ページの上部に、「 VM Performance by Application 」など、ダッシュボードの一意の名前を入力します。
. 「 * 保存 * 」をクリックして、ダッシュボードに新しい名前を付けて保存します。
. 次に、ウィジェットを追加します。必要に応じて、 * 編集 * アイコンをクリックして編集モードを有効にします。
. [ ウィジェットの追加 * （ Add Widget * ） ] アイコンをクリックし、 [ * テーブル * （ * Table * ） ] を選択して新しい表ウィジェットをダッシュボードに追加します。
+
ウィジェットを編集（ Edit Widget ）ダイアログが開きます。環境内のすべてのストレージについて、デフォルトのデータが表示されます。



image:VMDashboard-TableWidget1.png[""]

. このウィジェットをカスタマイズできます。上部の Name フィールドで「 Widget 1 」を削除し、「 Virtual Machine Performance table 」と入力します。
. アセットのタイプドロップダウンをクリックし、「 Storage _To Virtual Machine _ 」を変更します。
+
表のデータが更新され、環境内のすべての仮想マシンが表示されます。

. 表に列をいくつか追加してみましょう。右側の歯車アイコンをクリックし、 _Hypervisor name _ 、 _IOPS - Total _ 、および _Latency - Total _ を選択します。検索結果に名前を入力して、目的のフィールドをすばやく表示することもできます。
+
これらの列が表に表示されます。これらの列のいずれかを使用してテーブルをソートできます。列はウィジェットに追加した順序で表示されます。

. この演習では、あまり使用されていない VM は除外するため、合計 IOPS が 10 未満のものをフィルタで除外します。[* フィルタ基準 ] の横にある * [+] * ボタンをクリックし、 [_IOPS] - [ 合計 ] を選択します。任意の * をクリックし、 * 開始 * フィールドに「 10 」と入力します。[* から * ] フィールドは空のままにします。フィルタフィールドをクリックするか、 Enter キーを押してフィルタを設定します。
+
これで、合計 IOPS が 10 以上の VM のみが表に表示されます。

. 結果をグループ化すると、表をさらに折りたたむことができます。[* Group by] の横にある [*] ボタンをクリックし、グループ化するフィールド（ _Application_or_Hypervisor name _ など）を選択します。グループ化が自動的に適用されます。
+
これで、設定に従ってテーブルの行がグループ化されます。グループは必要に応じて展開または折りたたむことができます。グループ化された行には、各列の集計データが表示されます。一部の列では、その列の集計方法を選択できます。



image:VMDashboard-TableWidgetGroup.png[""]

. 目的に応じて表ウィジェットをカスタマイズしたら、「 * [ 保存 ] * 」ボタンをクリックします。
+
表ウィジェットがダッシュボードに保存されます。



ダッシュボード上のウィジェットの右下をドラッグすると、ウィジェットのサイズを変更できます。すべての列が明確に表示されるようにウィジェットの幅を広げます。保存 * をクリックして、現在のダッシュボードを保存します。

次に、 VM のパフォーマンスを表示するグラフをいくつか追加します。次に、 VM のレイテンシと VMDK のレイテンシを比較する折れ線グラフを作成します。

. 必要に応じて、ダッシュボードの * 編集 * アイコンをクリックして編集モードを有効にします。
. [ ウィジェットの追加 ] アイコンをクリックし、 [ 折れ線グラフ _ ] を選択して、新しい折れ線グラフウィジェットをダッシュボードに追加します。
. [ ウィジェットを編集（ Edit Widget ） ] ダイアログが開きます。このウィジェットに「 VM / VMDK 最大レイテンシ」と名前を付けます
. 「 * Virtual Machine * 」を選択し、「 _Latency - Max_ 」を選択します。任意のフィルターを設定するか、 * フィルターを * 空のままにします。「 * 集計」で、「 _ 合計 _ すべて _ 」を選択します。このデータを「 _Line Chart_ 」として表示し、「 _Y 軸」を「 _Primary__ 」のままにします。
. [+Query] * ボタンをクリックして、 2 行目を追加します。この行では、 _VMDK_or_Latency - Max_ を選択します。任意のフィルターを設定するか、 * フィルターを * 空のままにします。「 * 集計」で、「 _ 合計 _ すべて _ 」を選択します。このデータを「 _Line Chart_ 」として表示し、「 _Y 軸」を「 _Primary__ 」のままにします。
. このウィジェットをダッシュボードに追加するには、「 * [ 保存 ] * 」をクリックします。


image:VMDashboard-LineChartVMLatency.png[""]

次に、 VM の読み取り IOPS 、書き込み IOPS 、合計 IOPS を 1 つのグラフに表示するグラフを追加します。

. [ ウィジェットの追加 ] アイコンをクリックし、 [ エリアグラフ _ ] を選択して、新しい面グラフウィジェットをダッシュボードに追加します。
. ウィジェットを編集（ Edit Widget ）ダイアログが開きます。このウィジェットに「 VM IOPS 」と名前を付けます。
. 「 * Virtual Machine * 」を選択し、「 _IOPS-Total_ 」を選択します。任意のフィルターを設定するか、 * フィルターを * 空のままにします。「 * 集計」で、「 _ 合計 _ すべて _ 」を選択します。このデータを _Area Chart_ として表示し、 Leave _Y - Axis_as Primary__ として表示します。
. [+Query] * ボタンをクリックして、 2 行目を追加します。この行では、 * Virtual Machine * を選択し、 _iops-Read_ を選択します。
. 3 番目のデータ行を追加するには、 [+Query] * ボタンをクリックします。この行では、 * Virtual Machine * を選択し、 _IOs-Write_. を選択します。
. このウィジェットの凡例をダッシュボードに表示するには、 * 凡例を表示 * をクリックします。


image:VMDashboard-AreaChartVMIOPS.png[""]

. このウィジェットをダッシュボードに追加するには、「 * [ 保存 ] * 」をクリックします。


次に、 VM に関連付けられているアプリケーションごとに VM のスループットを表示するグラフを追加します。これにはロールアップ機能を使用します。

. [ ウィジェットの追加 ] アイコンをクリックし、 [ 折れ線グラフ _ ] を選択して、新しい折れ線グラフウィジェットをダッシュボードに追加します。
. ウィジェットを編集（ Edit Widget ）ダイアログが開きます。このウィジェットに「 VM throughput by Application 」と名前を付けます。
. [ 仮想マシン ] を選択し、 [ スループット - 合計 ] を選択します。必要なフィルタを設定するか、フィルタを空のままにします。「ロールアップ」で「最大」を選択し、「アプリケーション」または「名前」で選択します。トップ 10 アプリケーションを表示します。このデータを折れ線グラフとして表示し、 Y 軸を [ プライマリ ] のままにします。
. このウィジェットをダッシュボードに追加するには、「 * [ 保存 ] * 」をクリックします。


ダッシュボード上でウィジェットを移動するには、ウィジェット上部の任意の場所でマウスボタンを押したまま、新しい場所にドラッグします。

ウィジェットの右下をドラッグすると、ウィジェットのサイズを変更できます。

変更を行ったら、必ずダッシュボードを * [Save] * してください。

最後の VM パフォーマンスダッシュボードは次のようになります。

image:VMDashExample1.png[""]
